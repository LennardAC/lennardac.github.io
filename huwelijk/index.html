<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Huwelijkscadeau ‚Äì Lennard & Dylan</title>
  <meta name="description" content="Huwelijkscadeaupagina van Lennard & Dylan ‚Äì draag bij aan onze herinneringen i.p.v. spullen." />
  <!-- Favicon (inline SVG hartje) -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path fill="%23ec4899" d="M47.5 8C42 8 36.9 10.8 34 15c-2.9-4.2-8-7-13.5-7C11.7 8 6 13.7 6 20.5 6 37 32 56 32 56s26-19 26-35.5C58 13.7 52.3 8 47.5 8z"/></svg>' />
  <style>
    :root{
      --bg:#f7f7f8; --card:#ffffff; --ink:#111827; --muted:#6b7280; --brand:#7c3aed; --brand-2:#ec4899; --ok:#10b981; --border:#e5e7eb;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family: Verdana, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";}
    a{color:inherit}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header.hero{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:white;border-radius:24px;padding:32px;box-shadow:0 10px 30px rgba(124,58,237,.25)}
    .hero h1{font-size:clamp(28px,3.5vw,42px);margin:0 0 8px}
    .hero p{margin:8px 0 0;color:rgba(255,255,255,.9);line-height:1.6}
    .grid{display:grid;gap:20px;margin-top:24px}
    @media(min-width:900px){.grid{grid-template-columns:1.2fr .8fr}}
    .card{background:var(--card);border:1px solid var(--border);border-radius:20px;box-shadow:0 6px 18px rgba(17,24,39,.06)}
    .card.pad{padding:20px}
    .goals{display:grid;grid-template-columns:1fr;gap:16px}
    @media(min-width:720px){.goals{grid-template-columns:1fr 1fr}}
    .goal{overflow:hidden}
    .goal .media{height:180px;background:#ddd;display:block}
    .goal .media img{width:100%;height:100%;object-fit:cover;display:block}
    .goal .body{padding:16px}
    .goal h3{margin:0 0 6px;font-size:20px}
    .muted{color:var(--muted)}
    .row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .progress{width:100%;height:14px;background:#eef2ff;border-radius:999px;overflow:hidden;border:1px solid #dbeafe}
    .progress > span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--brand),var(--brand-2));transition:width .6s ease}
    .amounts{display:flex;gap:10px;font-size:12px;color:var(--muted)}
    .amounts strong{color:var(--ink)}
    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{appearance:none;border:0;border-radius:999px;padding:10px 16px;font-weight:700;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--brand),var(--brand-2));color:white}
    .btn.ghost{background:#f3f4f6;color:#111827}
    .qr{height:56px;width:56px;border-radius:10px;border:1px solid var(--border);background:#fff;padding:6px}
    .totals h3{margin:0 0 8px}
    .totals .progress{height:16px}
    .totals .amounts{font-size:13px}
    .donors{margin-top:12px;border-top:1px dashed var(--border);padding-top:12px}
    .donors details{background:#fafafa;border:1px solid var(--border);border-radius:12px;padding:10px}
    .donors summary{cursor:pointer;font-weight:700}
    .donors ul{margin:10px 0 0;padding:0;list-style:none;display:grid;gap:8px}
    .pill{background:#eef2ff;color:#3730a3;border-radius:999px;padding:2px 8px;font-size:12px;font-weight:700}
    footer{margin:32px 0 0;color:var(--muted);font-size:12px;text-align:center}
    .intro p{line-height:1.75}
    .note{background:#fef3c7;border:1px solid #fde68a;color:#92400e;padding:10px;border-radius:10px}
  </style>
</head>
<body>
  <div class="container">
    <header class="hero">
      <h1>Welkom op onze huwelijks¬≠pagina</h1>
      <p>Op <strong>15 september 2025</strong> geven wij elkaar het jawoord in het stadhuis van Rotterdam.<br>
      Geen grootse bruiloft vol pracht en praal, maar een intiem moment met de mensen die ons het meest dierbaar zijn.<br>
      Voor ons draait deze dag om wat √©cht telt: <strong>liefde, herinneringen en samen zijn</strong>.</p>
    </header>

    <!-- TOP: twee kaarten naast elkaar op desktop -->
    <div class="grid">
      <section class="card pad intro">
        <h2>Maak samen met ons herinneringen</h2>
        <p>In plaats van een traditioneel feest, sluiten we de dag af met een intiem diner bij <em>La Cocotte</em> in Hoogvliet ‚Äî een avond vol warmte, goed eten en mooie gesprekken.</p>
        <p>We hebben geen verlanglijst vol spullen. Wat we w√©l willen, is samen blijven bouwen aan ons leven:</p>
        <ul>
          <li>Oud worden in ons huis, waar elke kamer een verhaal vertelt</li>
          <li>Genieten van onze groene tuin, onze plek van rust en ontspanning</li>
          <li>Er samen op uit gaan met een camper, om nieuwe avonturen te beleven in alle vrijheid</li>
        </ul>
        <p>Jullie aanwezigheid op deze dag is ons grootste cadeau. Wil je ons toch verrassen, dan kun je hieronder bijdragen aan √©√©n van de doelen ‚Äî aan herinneringen die we ons hele leven zullen koesteren.</p>
        <p><strong>Met liefde,<br>Lennard & Dylan ‚ù§Ô∏è</strong></p>
        <div class="note"><strong>Privacy:</strong> we tonen alleen namen/bedragen die door de gever gedeeld mogen worden. Liever anoniem? Zet dat gerust in je omschrijving.</div>
      </section>

      <aside class="card pad">
        <h2>Hoe werkt doneren?</h2>
        <ol>
          <li>Kies een doel hieronder en klik op <strong>Betaal mee</strong>.</li>
          <li>Betaal via je ING‚Äëbetaalverzoek/QR (iDEAL) of per overschrijving.</li>
          <li>Contant mag ook: bijvoorbeeld in een envelop met een lief briefje of wens erbij ‚Äî vinden wij hartstikke leuk. üíå</li>
          <li>Optioneel: laat je naam en korte wens achter in de omschrijving.</li>
        </ol>
        <p><strong>IBAN</strong><br>
          NL76&nbsp;INGB&nbsp;0797&nbsp;6643&nbsp;78<br>
          t.n.v. <em>Hr&nbsp;L.A. Chrispijn</em> en/of <em>Hr&nbsp;D. Wildschut</em>
        </p>
        <div class="cta">
              <a class="btn primary" href="${g.payLink}" target="_blank" rel="noopener">Betaal mee</a>
              <img class="qr" src="${g.qr || (g.id + '.png')}" alt="QR ${g.title}" onerror="this.style.display='none'" title="Scan om direct te betalen">
              <button class="btn ghost" onclick="copyIban()">Kopieer IBAN</button>
            </div>
          </div>
          ${renderDonors(g)}
        </div>
      `;
      root.appendChild(el);
    })
  }

  function renderDonors(goal){
    if(!goal.donors || goal.donors.length === 0){
      return `<div class="donors muted">Nog geen publieke donaties getoond.</div>`;
    }
    const items = goal.donors.map(d => {
      const amt = d.amount ? ` ‚Äì ${currency.format(d.amount)}` : '';
      const note = d.note ? `<div class="muted">${escapeHTML(d.note)}</div>` : '';
      const name = d.name || 'Anoniem';
      return `<li><strong>${escapeHTML(name)}</strong>${amt}${note}</li>`
    }).join('');

    return `
      <div class="donors">
        <details>
          <summary>Bekijk donateurs (${goal.donors.length})</summary>
          <ul>${items}</ul>
        </details>
      </div>
    `;
  }

  function copyIban(){
    const IBAN = 'NL76INGB0797664378';
    navigator.clipboard.writeText(IBAN).then(()=>{
      alert('IBAN gekopieerd: ' + IBAN);
    })
  }

  function escapeHTML(str){
    return String(str).replace(/[&<>'"]/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','\'':'&#39;','"':'&quot;'}[s]));
  }

  renderGoals();
  renderTotals();

  function renderTotals(){
    const totalsEl = document.getElementById('totals');
    const target = goals.reduce((s,g)=> s + (Number(g.target)||0), 0);
    const given = goals.reduce((s,g)=> {
      const donorsSum = (g.donors||[]).reduce((x,d)=> x + (Number(d.amount)||0), 0);
      const current = Math.max(Number(g.current)||0, donorsSum);
      return s + current;
    }, 0);
    const pct = Math.min(Math.round((given/target)*100), 100);
    const nf = new Intl.NumberFormat('nl-NL', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 });
    totalsEl.innerHTML = `
      <h3>Totaal voortgang</h3>
      <div class="progress" aria-label="totale voortgang"><span style="width:${pct}%"></span></div>
      <div class="row" style="margin-top:8px">
        <div class="amounts">
          <span>Gestort totaal: <strong>${nf.format(given)}</strong></span>
          <span>Doel totaal: <strong>${nf.format(target)}</strong></span>
        </div>
        <span class="pill">${pct}%</span>
      </div>`;
  }
</script>
</body>
</html>
